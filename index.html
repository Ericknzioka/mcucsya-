<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCUCSYA - Machakos County Students and Youths Association</title>
    
    <!-- External CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* CSS Variables */
        :root {
            --primary-color: #2c5530;
            --secondary-color: #4a7c59;
            --accent-color: #ffd700;
            --text-color: #333;
            --light-bg: #f8f9fa;
            --white: #ffffff;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --shadow-light: 0 2px 10px rgba(0,0,0,0.1);
            --shadow-medium: 0 5px 20px rgba(0,0,0,0.15);
            --shadow-heavy: 0 15px 40px rgba(0,0,0,0.2);
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            --border-radius: 15px;
            --border-radius-small: 8px;
            --border-radius-large: 25px;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--white);
            overflow-x: hidden;
        }

        /* Navigation Styles */
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            box-shadow: var(--shadow-light);
            padding: 1rem 0;
            transition: var(--transition-normal);
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
            color: var(--white) !important;
            transition: var(--transition-normal);
        }

        .navbar-brand:hover {
            color: var(--accent-color) !important;
            transform: scale(1.05);
        }

        .navbar-nav .nav-link {
            color: var(--white) !important;
            font-weight: 500;
            margin: 0 0.5rem;
            padding: 0.5rem 1rem !important;
            border-radius: var(--border-radius-small);
            transition: var(--transition-normal);
        }

        .navbar-nav .nav-link:hover {
            color: var(--accent-color) !important;
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .navbar-nav .nav-link.active {
            color: var(--accent-color) !important;
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            color: var(--white);
            text-align: center;
            position: relative;
            background: none;
        }
        .hero-bg-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease;
            z-index: 0;
        }
        .hero-section .container {
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .hero-content .lead {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 2rem;
        }

        /* Buttons */
        .btn-custom {
            background: var(--accent-color);
            color: var(--primary-color);
            border: none;
            padding: 12px 30px;
            font-weight: bold;
            border-radius: 50px;
            transition: var(--transition-normal);
            text-decoration: none;
            display: inline-block;
            font-size: 1.1rem;
            box-shadow: var(--shadow-light);
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .btn-custom:hover {
            background: #ffed4a;
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
            color: var(--primary-color);
        }

        /* Page Sections */
        .page-section {
            padding: 4rem 0;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--primary-color);
            font-weight: bold;
            position: relative;
            font-size: 2.5rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }

        /* Card Styles */
        .card {
            border: none;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            transition: var(--transition-normal);
            overflow: hidden;
            background: var(--white);
            height: 100%;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-heavy);
        }

        /* Leadership Cards */
        .leadership-card {
            text-align: center;
            padding: 2rem;
            transition: var(--transition-normal);
            background: var(--white);
        }

        .leadership-card:hover {
            background: linear-gradient(135deg, var(--light-bg), var(--white));
        }

        .leadership-card .card-img-top {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 2rem;
            box-shadow: var(--shadow-medium);
            transition: var(--transition-normal);
        }

        .leadership-card:hover .card-img-top {
            transform: scale(1.1);
            box-shadow: var(--shadow-heavy);
        }

        .leadership-card .card-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .leadership-card .card-text {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Form Styles */
        .form-control {
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius-small);
            padding: 0.75rem 1rem;
            font-size: 1rem;
            transition: var(--transition-normal);
        }

        .form-control:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 0.2rem rgba(74, 124, 89, 0.25);
            outline: none;
        }

        .form-label {
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .is-invalid {
            border-color: var(--danger-color) !important;
        }

        .invalid-feedback {
            color: var(--danger-color);
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        /* Social Links */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .social-links a {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            transition: var(--transition-normal);
            text-decoration: none;
            box-shadow: var(--shadow-light);
        }

        .social-links .instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }

        .social-links .whatsapp {
            background: #25d366;
        }

        .social-links .facebook {
            background: #3b5998;
        }

        .social-links a:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: var(--shadow-medium);
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 3rem 0 1rem;
            margin-top: 4rem;
        }

        .footer h5 {
            color: var(--accent-color);
            margin-bottom: 1.5rem;
        }

        .footer a {
            color: var(--white);
            transition: var(--transition-normal);
            text-decoration: none;
        }

        .footer a:hover {
            color: var(--accent-color);
        }

        .footer ul {
            list-style: none;
            padding: 0;
        }

        .footer ul li {
            margin-bottom: 0.5rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .hero-content p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .leadership-card .card-img-top {
                width: 100px;
                height: 100px;
                font-size: 1.8rem;
            }
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-medium);
            transition: var(--transition-normal);
            opacity: 0;
            visibility: hidden;
            z-index: 1000;
            cursor: pointer;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#home">
                <img src="images/1.jpeg" alt="MCUCSYA Logo" style="height:40px; width:40px; object-fit:cover; border-radius:50%; margin-right:10px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
                MCUCSYA
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#leadership">Leadership</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#constituencies">Constituencies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#events">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#register">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="admin-nav-link" href="#admin">Admin</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section position-relative" style="overflow:hidden;">
        <!-- Slideshow Background -->
        <div id="hero-slideshow" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;"></div>
        <div class="container position-relative" style="z-index:2;">
            <div class="hero-content">
                <h1>Machakos County Students and Youths Association</h1>
                <p class="lead">Empowering the youth of Machakos County through unity, leadership, and community service</p>
                <p>Building tomorrow's leaders today</p>
                <a href="#register" class="btn btn-custom btn-lg">
                    <i class="fas fa-user-plus me-2"></i>Join MCUCSYA
                </a>
            </div>
        </div>
        <!-- Overlay for darkening background -->
        <div style="position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(rgba(44,85,48,0.7),rgba(74,124,89,0.7));z-index:1;"></div>
    </section>

    <!-- About Section -->
    <section id="about" class="page-section">
        <div class="container">
            <h2 class="section-title">About MCUCSYA</h2>
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mission-icon mb-3">
                                <i class="fas fa-eye"></i>
                            </div>
                            <h4 class="text-primary">Our Vision</h4>
                            <p>To be the leading youth organization in Machakos County, fostering unity, leadership development, and community transformation among students and young people.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mission-icon mb-3">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <h4 class="text-primary">Our Mission</h4>
                            <p>To unite, empower, and develop the students and youths of Machakos County by providing platforms for leadership, education, community service, and economic empowerment.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="text-primary mb-4">Our Core Values</h4>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-handshake text-success me-3 fs-4"></i>
                                        <div>
                                            <strong class="text-primary">Unity:</strong> Bringing together diverse communities
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-star text-success me-3 fs-4"></i>
                                        <div>
                                            <strong class="text-primary">Excellence:</strong> Striving for the highest standards
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-heart text-success me-3 fs-4"></i>
                                        <div>
                                            <strong class="text-primary">Service:</strong> Giving back to our community
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Leadership Section -->
    <section id="leadership" class="page-section bg-light">
        <div class="container">
            <h2 class="section-title">Our Leadership</h2>
            <div class="row" id="leadership-container">
                <!-- Leadership cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Constituencies Section -->
    <section id="constituencies" class="page-section">
        <div class="container">
            <h2 class="section-title">Machakos County Constituencies</h2>
            <div class="row" id="constituencies-container">
                <!-- Constituency cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Events Section -->
    <section id="events" class="page-section bg-light">
        <div class="container">
            <h2 class="section-title">Upcoming Events</h2>
            <div class="row" id="events-container">
                <!-- Event cards will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Registration Section -->
    <section id="register" class="page-section">
        <div class="container">
            <h2 class="section-title">Join MCUCSYA</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header bg-primary text-white text-center py-4">
                            <i class="fas fa-user-plus fa-2x mb-2 text-warning"></i>
                            <h4 class="mb-0">Member Registration</h4>
                        </div>
                        <div class="card-body p-4">
                            <form id="registration-form">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="firstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="firstName" name="firstName" required>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="lastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="lastName" name="lastName" required>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">Email Address *</label>
                                        <input type="email" class="form-control" id="email" name="email" required>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="phone" class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" id="phone" name="phone" placeholder="e.g., +254712345678" required>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="dateOfBirth" class="form-label">Date of Birth *</label>
                                        <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" required>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="gender" class="form-label">Gender *</label>
                                        <select class="form-control" id="gender" name="gender" required>
                                            <option value="">Select Gender</option>
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="constituency" class="form-label">Constituency *</label>
                                        <select class="form-control" id="constituency" name="constituency" required>
                                            <option value="">Select Constituency</option>
                                        </select>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="education" class="form-label">Education Level *</label>
                                        <select class="form-control" id="education" name="education" required>
                                            <option value="">Select Education Level</option>
                                            <option value="primary">Primary</option>
                                            <option value="secondary">Secondary</option>
                                            <option value="certificate">Certificate</option>
                                            <option value="diploma">Diploma</option>
                                            <option value="bachelor">Bachelor's Degree</option>
                                            <option value="master">Master's Degree</option>
                                            <option value="phd">PhD</option>
                                        </select>
                                        <div class="invalid-feedback"></div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="occupation" class="form-label">Occupation/Field of Study</label>
                                    <input type="text" class="form-control" id="occupation" name="occupation">
                                </div>
                                <div class="mb-3">
                                    <label for="interests" class="form-label">Areas of Interest</label>
                                    <textarea class="form-control" id="interests" name="interests" rows="3" placeholder="Tell us about your interests, skills, or how you'd like to contribute to MCUCSYA"></textarea>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="agreeTerms" name="agreeTerms" required>
                                    <label class="form-check-label" for="agreeTerms">
                                        I agree to the terms and conditions and privacy policy *
                                    </label>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="text-center">
                                    <button type="submit" class="btn btn-custom btn-lg">
                                        <i class="fas fa-user-plus me-2"></i>Register Now
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="page-section bg-light">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4 class="text-primary mb-4">Contact Information</h4>
                            <div class="contact-info">
                                <div class="mb-3">
                                    <i class="fas fa-envelope text-primary me-2"></i>
                                    <strong>Email:</strong> mcucsya1@gmail.com
                                </div>
                                <div class="mb-3">
                                    <i class="fas fa-phone text-primary me-2"></i>
                                    <strong>Phone:</strong> +254 759 655 504
                                </div>
                                <div class="mb-3">
                                    <i class="fas fa-map-marker-alt text-primary me-2"></i>
                                    <strong>Address:</strong> Machakos Town, Machakos County
                                </div>
                            </div>
                            <div class="social-links">
                                <a href="https://www.instagram.com/mcucsya?igsh=YzljYTk1ODg3Zg==" class="instagram" target="_blank" title="Instagram">
                                    <i class="fab fa-instagram"></i>
                                </a>
                                <a href="https://chat.whatsapp.com/Jrzgcex9VaTDuSO4jtPKz1?mode=ac_t" class="whatsapp" target="_blank" title="WhatsApp">
                                    <i class="fab fa-whatsapp"></i>
                                </a>
                                <a href="https://www.facebook.com/profile.php?id=100094290441020" class="facebook" target="_blank" title="Facebook">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h4 class="text-primary mb-4">Send us a Message</h4>
                            <form id="contact-form">
                                <div class="mb-3">
                                    <label for="contactName" class="form-label">Your Name *</label>
                                    <input type="text" class="form-control" id="contactName" name="contactName" required>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="contactEmail" class="form-label">Your Email *</label>
                                    <input type="email" class="form-control" id="contactEmail" name="contactEmail" required>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="contactSubject" class="form-label">Subject *</label>
                                    <input type="text" class="form-control" id="contactSubject" name="contactSubject" required>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <div class="mb-3">
                                    <label for="contactMessage" class="form-label">Message *</label>
                                    <textarea class="form-control" id="contactMessage" name="contactMessage" rows="5" required></textarea>
                                    <div class="invalid-feedback"></div>
                                </div>
                                <button type="submit" class="btn btn-custom">
                                    <i class="fas fa-paper-plane me-2"></i>Send Message
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Section -->
    <section id="admin" class="page-section" style="display:none;">
        <div class="container">
            <h2 class="section-title">Admin Dashboard</h2>
            <div id="admin-login" class="mb-4">
                <div class="card col-md-6 mx-auto">
                    <div class="card-body">
                        <h5 class="card-title mb-3">Admin Login</h5>
                        <form id="admin-login-form">
                            <div class="mb-3">
                                <label for="admin-username" class="form-label">Username</label>
                                <input type="text" class="form-control" id="admin-username" required>
                            </div>
                            <div class="mb-3">
                                <label for="admin-password" class="form-label">Password</label>
                                <input type="password" class="form-control" id="admin-password" required>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Login</button>
                            <div class="invalid-feedback mt-2" id="admin-login-error"></div>
                        </form>
                    </div>
                </div>
            </div>
            <div id="admin-dashboard" style="display:none;">
                <ul class="nav nav-tabs mb-3" id="adminTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="members-tab" data-bs-toggle="tab" data-bs-target="#members" type="button" role="tab">Members</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="messages-tab" data-bs-toggle="tab" data-bs-target="#messages" type="button" role="tab">Messages</button>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="members" role="tabpanel">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Constituency</th>
                                        <th>Education</th>
                                        <th>Gender</th>
                                        <th>Date of Birth</th>
                                        <th>Registered</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-members-table"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="messages" role="tabpanel">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Subject</th>
                                        <th>Message</th>
                                        <th>Date</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-messages-table"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <button class="btn btn-secondary mt-3" id="admin-logout">Logout</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer pt-5 pb-3">
        <div class="container">
            <div class="row align-items-center gy-4">
                <div class="col-lg-4 col-md-6 text-center text-lg-start mb-4 mb-lg-0">
                    <img src="images/1.jpeg" alt="MCUCSYA Logo" style="height:60px;width:60px;object-fit:cover;border-radius:50%;box-shadow:0 2px 8px rgba(0,0,0,0.08);margin-bottom:10px;">
                    <h5 class="mt-2 mb-2" style="font-weight:bold;color:var(--accent-color);letter-spacing:1px;">Machakos County Students and Youths Association</h5>
                    <p style="font-size:1rem;color:#f8f9fa;opacity:0.85;">Empowering the youth of Machakos County through unity, leadership, and community service.</p>
                    <div class="social-links justify-content-start mt-3">
                        <a href="https://www.instagram.com/mcucsya?igsh=YzljYTk1ODg3Zg==" class="instagram" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://chat.whatsapp.com/Jrzgcex9VaTDuSO4jtPKz1?mode=ac_t" class="whatsapp" target="_blank"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://www.facebook.com/profile.php?id=100094290441020" class="facebook" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 text-center mb-4 mb-lg-0">
                    <h5 class="mb-3" style="color:var(--accent-color);font-weight:bold;">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#leadership">Leadership</a></li>
                        <li><a href="#constituencies">Constituencies</a></li>
                        <li><a href="#events">Events</a></li>
                        <li><a href="#register">Register</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-12 text-center text-lg-end">
                    <h5 class="mb-3" style="color:var(--accent-color);font-weight:bold;">Contact Us</h5>
                    <ul class="list-unstyled" style="color:#f8f9fa;opacity:0.85;">
                        <li><i class="fas fa-envelope me-2"></i>mcucsya1@gmail.com</li>
                        <li><i class="fas fa-phone me-2"></i>+254 759 655 504</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i>Machakos Town, Machakos County</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4" style="border-color:rgba(255,255,255,0.15);">
            <div class="row">
                <div class="col-12 text-center">
                    <p style="color:#f8f9fa;opacity:0.7;font-size:0.95rem;">&copy; 2025 MCUCSYA - Machakos County Students and Youths Association. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script>
        // Hero Section Slideshow
        document.addEventListener('DOMContentLoaded', function() {
            const cacheBuster = Date.now();
            const images = [
                `images/2.jpeg?v=${cacheBuster}`,
                `images/3.jpeg?v=${cacheBuster}`,
                `images/4.jpeg?v=${cacheBuster}`,
                `images/5.jpeg?v=${cacheBuster}`,
                `images/6.jpeg?v=${cacheBuster}`,
                `images/7.jpeg?v=${cacheBuster}`,
                `images/8.jpeg?v=${cacheBuster}`,
                `images/9.jpeg?v=${cacheBuster}`
            ];
            const slideshow = document.getElementById('hero-slideshow');
            if (slideshow) {
                images.forEach((src, idx) => {
                    const img = document.createElement('div');
                    img.className = 'hero-bg-slide';
                    img.style.backgroundImage = `url('${src}')`;
                    img.style.opacity = idx === 0 ? '1' : '0';
                    slideshow.appendChild(img);
                });
                let current = 0;
                setInterval(() => {
                    const slides = slideshow.querySelectorAll('.hero-bg-slide');
                    slides.forEach((slide, i) => {
                        slide.style.opacity = '0';
                        slide.style.transition = 'opacity 1.5s ease';
                    });
                    current = (current + 1) % images.length;
                    slides[current].style.opacity = '1';
                }, 5000);
            }
        });
        // Configuration
        const MCUCSYA_CONFIG = {
            organization: {
                name: "Machakos County Students and Youths Association",
                acronym: "MCUCSYA",
                founded: "2023",
                email: "mcucsya1",
                phone: "+254 759 655 504",
                address: "Machakos Town, Machakos County"
            },
            constituencies: [
                {
                    id: "machakos_town",
                    name: "Machakos Town",
                    description: "The county headquarters and administrative center",
                    features: ["Administrative Hub", "Commercial Center", "Educational Institutions"]
                },
                {
                    id: "matungulu",
                    name: "Matungulu",
                    description: "Known for its agricultural activities and rural development",
                    features: ["Agriculture", "Rural Development", "Community Projects"],
                    leader: {
                        name: "Lawrence Wambua",
                        image: "images/wakili.jpeg"
                    }
                },
                {
                    id: "kangundo",
                    name: "Kangundo",
                    description: "Rich in cultural heritage and community initiatives",
                    features: ["Cultural Heritage", "Community Programs", "Youth Activities"]
                },
                {
                    id: "masinga",
                    name: "Masinga",
                    description: "Home to the famous Masinga Dam and hydroelectric power",
                    features: ["Masinga Dam", "Hydroelectric Power", "Water Resources"]
                },
                {
                    id: "yatta",
                    name: "Yatta",
                    description: "Known for its vast plains and livestock farming",
                    features: ["Livestock Farming", "Vast Plains", "Agricultural Activities"],
                    leader: {
                        name: "Aron",
                        image: "images/aron.jpeg"
                    }
                },
                {
                    id: "mwala",
                    name: "Mwala",
                    description: "Agricultural hub with vibrant community programs",
                    features: ["Agricultural Hub", "Community Programs", "Food Production"]
                },
                {
                    id: "mavoko",
                    name: "Mavoko",
                    description: "Industrial and commercial center of the county",
                    features: ["Industrial Center", "Commercial Hub", "Business Activities"],
                    leader: {
                        name: "Denis Nzioka",
                        image: "images/nzioka.jpeg"
                    }
                },
                {
                    id: "kathiani",
                    name: "Kathiani",
                    description: "Known for its educational institutions and cultural sites",
                    features: ["Educational Institutions", "Cultural Sites", "Academic Excellence"]
                }
            ],
            leadership: {
                executive: [
                    {
                        id: "chairperson",
                        position: "MCUCSYA Chairperson",
                        name: "Faith Musau",
                        image: "images/chairperson.jpeg"
                    },
                    {
                        id: "deputy_chair",
                        position: "MCUCSYA Deputy Chairperson",
                        name: "Carlos Nzangi",
                        image: null
                    },
                    {
                        id: "ict_manager",
                        position: "ICT Manager",
                        name: "Erick Nzioka",
                        image: "images/ICT manager.jpeg"
                    },
                    {
                        id: "secretary_general",
                        position: "Secretary General",
                        name: "Albanus Mwanzia",
                        image: "images/secretary.jpeg"
                    },
                    {
                        id: "logistics_manager",
                        position: "Logistics Manager",
                        name: "Jefferson Muendo",
                        image: null
                    },
                    {
                        id: "tvet_rep",
                        position: "TVET Rep",
                        name: "Jennifer Mutungi",
                        image: "images/jenifer.jpeg"
                    },
                    {
                        id: "trustee",
                        position: "MCUCSYA Trustee",
                        name: "Morris",
                        image: "images/moris.jpeg"
                    }
                ]
            },
            validation: {
                email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                phone: /^(\+254|0)[17]\d{8}$/,
                name: /^[a-zA-Z\s]{2,50}$/,
                minAge: 16,
                maxAge: 35
            }
        };

        // In-memory storage for demo purposes
        const MCUCSYAStorage = {
            members: [],
            contacts: [],
            events: [
                {
                    id: 1,
                    title: "Leadership Workshop",
                    description: "Join us for an intensive leadership development workshop designed for young leaders.",
                    date: "2025-08-15",
                    time: "09:00",
                    location: "Machakos University",
                    category: "Leadership"
                },
                {
                    id: 2,
                    title: "Community Service Day",
                    description: "Participate in our monthly community service initiative to give back to society.",
                    date: "2025-08-22",
                    time: "08:00",
                    location: "Various Locations",
                    category: "Community Service"
                },
                {
                    id: 3,
                    title: "Inclusive Futures 2025",
                    description: "A special event focused on inclusive opportunities for all youths. Join us for a day of inspiration and empowerment!",
                    date: "2025-08-28",
                    time: "09:00",
                    location: "Katangi Special School",
                    category: "Inclusion",
                    image: "images/inclusive.jpeg"
                }
            ]
        };

        // Utility Functions
        const MCUCSYAUtils = {
            // Validation
            validate: {
                email: (email) => MCUCSYA_CONFIG.validation.email.test(email),
                phone: (phone) => MCUCSYA_CONFIG.validation.phone.test(phone),
                name: (name) => MCUCSYA_CONFIG.validation.name.test(name),
                required: (value) => value !== null && value !== undefined && value.toString().trim() !== '',
                age: (dateOfBirth) => {
                    const today = new Date();
                    const birthDate = new Date(dateOfBirth);
                    let age = today.getFullYear() - birthDate.getFullYear();
                    const monthDiff = today.getMonth() - birthDate.getMonth();
                    
                    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                        age--;
                    }
                    
                    return age >= MCUCSYA_CONFIG.validation.minAge && age <= MCUCSYA_CONFIG.validation.maxAge;
                }
            },

            // Form utilities
            form: {
                showError: (field, message) => {
                    field.classList.add('is-invalid');
                    const feedback = field.parentNode.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = message;
                    }
                },
                clearError: (field) => {
                    field.classList.remove('is-invalid');
                    const feedback = field.parentNode.querySelector('.invalid-feedback');
                    if (feedback) {
                        feedback.textContent = '';
                    }
                },
                clearAllErrors: (form) => {
                    const errorFields = form.querySelectorAll('.is-invalid');
                    errorFields.forEach(field => MCUCSYAUtils.form.clearError(field));
                }
            },

            // Notifications
            notify: {
                show: (message, type = 'info', duration = 5000) => {
                    // Remove existing notifications
                    const existing = document.querySelectorAll('.notification-toast');
                    existing.forEach(notif => notif.remove());
                    
                    const iconMap = {
                        success: 'check-circle',
                        danger: 'exclamation-triangle',
                        warning: 'exclamation-circle',
                        info: 'info-circle'
                    };
                    
                    const notification = document.createElement('div');
                    notification.className = `alert alert-${type} alert-dismissible notification-toast`;
                    notification.style.cssText = 'position: fixed; top: 20px; right: 20px; z-index: 9999; min-width: 300px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);';
                    notification.innerHTML = `
                        <i class="fas fa-${iconMap[type]} me-2"></i>
                        ${message}
                        <button type="button" class="btn-close" aria-label="Close"></button>
                    `;
                    
                    const closeBtn = notification.querySelector('.btn-close');
                    closeBtn.addEventListener('click', () => notification.remove());
                    
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        if (notification.parentElement) {
                            notification.remove();
                        }
                    }, duration);
                },
                success: (message) => MCUCSYAUtils.notify.show(message, 'success'),
                error: (message) => MCUCSYAUtils.notify.show(message, 'danger'),
                info: (message) => MCUCSYAUtils.notify.show(message, 'info'),
                warning: (message) => MCUCSYAUtils.notify.show(message, 'warning')
            }
        };

        // Initialize the website
        document.addEventListener('DOMContentLoaded', function() {
            initializeWebsite();
        });

        function initializeWebsite() {
            populateLeadership();
            populateConstituencies();
            populateEvents();
            populateConstituencySelect(); // <-- ensure dropdown is populated
            initializeNavigation();
            initializeForms();
            initializeBackToTop();
        }

        // Populate Leadership Section
        function populateLeadership() {
            const container = document.getElementById('leadership-container');
            const leadership = MCUCSYA_CONFIG.leadership.executive;
            container.innerHTML = '';
            leadership.forEach(leader => {
                let profileImg = '';
                if (leader.image) {
                    profileImg = `<img src="${leader.image}" alt="${leader.name}" style="width:120px;height:120px;object-fit:cover;border-radius:50%;margin-bottom:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.08);">`;
                }
                const leaderCard = `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card leadership-card">
                            <div class="card-img-top">
                                ${profileImg}
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">${leader.position}</h5>
                                <p class="card-text" style="font-weight:600;">${leader.name}</p>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += leaderCard;
            });
        }

        // Populate Events Section
        function populateEvents() {
            const container = document.getElementById('events-container');
            const events = MCUCSYAStorage.events;
            if (events.length === 0) {
                container.innerHTML = '<div class="col-12 text-center"><p class="text-muted">No upcoming events at the moment. Check back soon!</p></div>';
                return;
            }
            container.innerHTML = '';
            events.forEach((event, idx) => {
                const eventDate = new Date(event.date);
                let eventImage = '';
                // Add image for Inclusive Futures event (3rd event, index 2)
                if (idx === 2) {
                    eventImage = '<img src="images/inclusive.jpeg" alt="Inclusive Futures" style="width:100%;height:180px;object-fit:cover;border-radius:12px 12px 0 0;">';
                }
                const eventCard = `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card event-card">
                            ${eventImage}
                            <div class="card-body">
                                <div class="d-flex mb-3">
                                    <div class="event-date me-3">
                                        <div>${eventDate.toLocaleDateString('en-US', { month: 'short' })}</div>
                                        <div>${eventDate.getDate()}</div>
                                        <div>${eventDate.getFullYear()}</div>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h5 class="card-title">${event.title}</h5>
                                        <span class="badge bg-primary">${event.category}</span>
                                    </div>
                                </div>
                                <p class="card-text">${event.description}</p>
                                <div class="event-meta">
                                    <div>
                                        <i class="fas fa-clock"></i>${event.time}
                                    </div>
                                    <div>
                                        <i class="fas fa-map-marker-alt"></i>${event.location}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += eventCard;
            });
        }

        // Populate Constituencies Section
        function populateConstituencies() {
            const container = document.getElementById('constituencies-container');
            const constituencies = MCUCSYA_CONFIG.constituencies;
            container.innerHTML = '';
            constituencies.forEach(constituency => {
                let leaderProfile = '';
                if (constituency.leader) {
                    leaderProfile = `
                        <div class="mb-3 text-start">
                            <img src="${constituency.leader.image}" alt="${constituency.leader.name}" style="width:55px;height:55px;object-fit:cover;border-radius:50%;box-shadow:0 2px 8px rgba(0,0,0,0.08);margin-bottom:0.3rem;float:left;margin-right:12px;">
                            <div style="font-weight:600;color:var(--primary-color);">${constituency.leader.name}</div>
                            <div style="font-size:0.95rem;color:#666;">Constituency Leader</div>
                            <div style="clear:both;"></div>
                        </div>
                    `;
                }
                const constituencyCard = `
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                ${leaderProfile}
                                <div class="text-center mb-3">
                                    <i class="fas fa-map-marker-alt text-primary" style="font-size: 2.5rem;"></i>
                                </div>
                                <h5 class="card-title text-center text-primary">${constituency.name}</h5>
                                <p class="card-text">${constituency.description}</p>
                                <div class="mt-3">
                                    <h6 class="text-secondary">Key Features:</h6>
                                    <ul class="list-unstyled">
                                        ${constituency.features.map(feature => 
                                            `<li><i class="fas fa-check text-success me-2"></i>${feature}</li>`
                                        ).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += constituencyCard;
            });
        }

        // Populate Constituency Dropdown
        function populateConstituencySelect() {
            const select = document.getElementById('constituency');
            if (!select) return;
            select.innerHTML = '<option value="">Select Constituency</option>';
            MCUCSYA_CONFIG.constituencies.forEach(c => {
                select.innerHTML += `<option value="${c.name}">${c.name}</option>`;
            });
        }

        // Registration Form
        const registrationForm = document.getElementById('registration-form');
        registrationForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(registrationForm);
            const data = Object.fromEntries(formData.entries());
            
            // Clear previous errors
            MCUCSYAUtils.form.clearAllErrors(registrationForm);
            
            // Validate form
            const errors = validateRegistrationForm(data);
            
            if (Object.keys(errors).length > 0) {
                // Show errors
                Object.keys(errors).forEach(fieldName => {
                    const field = registrationForm.querySelector(`[name="${fieldName}"]`);
                    if (field) {
                        MCUCSYAUtils.form.showError(field, errors[fieldName]);
                    }
                });
                return;
            }
            
            // Add to storage
            data.id = Date.now();
            data.registrationDate = new Date().toISOString();
            MCUCSYAStorage.members.push(data);
            
            // Show success message
            MCUCSYAUtils.notify.success('Registration successful! Welcome to the MCUCSYA family.');
            
            // Reset form
            registrationForm.reset();
        });

        // Validate Registration Form
        function validateRegistrationForm(data) {
            const errors = {};
            
            // Required fields
            const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'dateOfBirth', 'gender', 'constituency', 'education'];
            requiredFields.forEach(field => {
                if (!MCUCSYAUtils.validate.required(data[field])) {
                    errors[field] = 'This field is required.';
                }
            });
            
            // Email validation
            if (data.email && !MCUCSYAUtils.validate.email(data.email)) {
                errors.email = 'Please enter a valid email address.';
            }
            
            // Phone validation
            if (data.phone && !MCUCSYAUtils.validate.phone(data.phone)) {
                errors.phone = 'Please enter a valid phone number (e.g., +254712345678 or 0712345678).';
            }
            
            // Name validation
            if (data.firstName && !MCUCSYAUtils.validate.name(data.firstName)) {
                errors.firstName = 'Please enter a valid first name.';
            }
            
            if (data.lastName && !MCUCSYAUtils.validate.name(data.lastName)) {
                errors.lastName = 'Please enter a valid last name.';
            }
            
            // Age validation
            if (data.dateOfBirth && !MCUCSYAUtils.validate.age(data.dateOfBirth)) {
                errors.dateOfBirth = `Age must be between ${MCUCSYA_CONFIG.validation.minAge} and ${MCUCSYA_CONFIG.validation.maxAge} years.`;
            }
            
            // Terms agreement
            if (!data.agreeTerms) {
                errors.agreeTerms = 'You must agree to the terms and conditions.';
            }
            
            // Check for duplicate email
            const existingMember = MCUCSYAStorage.members.find(member => member.email === data.email);
            if (existingMember) {
                errors.email = 'This email is already registered.';
            }
            
            return errors;
        }

        // Handle Contact Form
        function handleContact(e) {
            e.preventDefault();
            
            const form = e.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // Clear previous errors
            MCUCSYAUtils.form.clearAllErrors(form);
            
            // Validate form
            const errors = validateContactForm(data);
            
            if (Object.keys(errors).length > 0) {
                // Show errors
                Object.keys(errors).forEach(fieldName => {
                    const field = form.querySelector(`[name="${fieldName}"]`);
                    if (field) {
                        MCUCSYAUtils.form.showError(field, errors[fieldName]);
                    }
                });
                return;
            }
            
            // Add to storage
            data.id = Date.now();
            data.submissionDate = new Date().toISOString();
            MCUCSYAStorage.contacts.push(data);
            
            // Show success message
            MCUCSYAUtils.notify.success('Message sent successfully! We\'ll get back to you soon.');
            
            // Reset form
            form.reset();
        }

        // Validate Contact Form
        function validateContactForm(data) {
            const errors = {};
            
            // Required fields
            const requiredFields = ['contactName', 'contactEmail', 'contactSubject', 'contactMessage'];
            requiredFields.forEach(field => {
                if (!MCUCSYAUtils.validate.required(data[field])) {
                    errors[field] = 'This field is required.';
                }
            });
            
            // Email validation
            if (data.contactEmail && !MCUCSYAUtils.validate.email(data.contactEmail)) {
                errors.contactEmail = 'Please enter a valid email address.';
            }
            
            // Name validation
            if (data.contactName && !MCUCSYAUtils.validate.name(data.contactName)) {
                errors.contactName = 'Please enter a valid name.';
            }
            
            return errors;
        }

        // Initialize Back to Top Button
        function initializeBackToTop() {
            const backToTopButton = document.getElementById('backToTop');
            
            // Show/hide button based on scroll position
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });
            
            // Scroll to top when clicked
            backToTopButton.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Admin Section Logic
        function showSection(sectionId) {
            document.querySelectorAll('.page-section').forEach(function(sec) { sec.style.display = 'none'; });
            var sec = document.getElementById(sectionId);
            if (sec) {
                sec.style.display = '';
                // If admin section, always reset to login form immediately
                if (sectionId === 'admin') {
                    document.getElementById('admin-login').style.display = '';
                    document.getElementById('admin-dashboard').style.display = 'none';
                    document.getElementById('admin-login-form').reset();
                    document.getElementById('admin-login-error').textContent = '';
                }
            }
        }
        function populateAdminMembersTable() {
            var tbody = document.getElementById('admin-members-table');
            tbody.innerHTML = '';
            MCUCSYAStorage.members.forEach(function(m) {
                var tr = document.createElement('tr');
                tr.innerHTML = '<td>' + (m.firstName || '') + ' ' + (m.lastName || '') + '</td>' +
                    '<td>' + (m.email || '') + '</td>' +
                    '<td>' + (m.phone || '') + '</td>' +
                    '<td>' + (m.constituency || '') + '</td>' +
                    '<td>' + (m.education || '') + '</td>' +
                    '<td>' + (m.gender || '') + '</td>' +
                    '<td>' + (m.dateOfBirth || '') + '</td>' +
                    '<td>' + (m.registrationDate ? new Date(m.registrationDate).toLocaleString() : '') + '</td>';
                tbody.appendChild(tr);
            });
        }
        function populateAdminMessagesTable() {
            var tbody = document.getElementById('admin-messages-table');
            tbody.innerHTML = '';
            MCUCSYAStorage.contacts.forEach(function(c) {
                var tr = document.createElement('tr');
                tr.innerHTML = '<td>' + (c.contactName || '') + '</td>' +
                    '<td>' + (c.contactEmail || '') + '</td>' +
                    '<td>' + (c.contactSubject || '') + '</td>' +
                    '<td>' + (c.contactMessage || '') + '</td>' +
                    '<td>' + (c.submissionDate ? new Date(c.submissionDate).toLocaleString() : '') + '</td>';
                tbody.appendChild(tr);
            });
        }
        function showAdminDashboard() {
            document.getElementById('admin-login').style.display = 'none';
            document.getElementById('admin-dashboard').style.display = '';
            populateAdminMembersTable();
            populateAdminMessagesTable();
        }
        function hideAdminDashboard() {
            document.getElementById('admin-login').style.display = '';
            document.getElementById('admin-dashboard').style.display = 'none';
            document.getElementById('admin-login-form').reset();
            document.getElementById('admin-login-error').textContent = '';
        }
        function initializeAdmin() {
            // Show admin section if hash is #admin
            if (window.location.hash === '#admin') showSection('admin');
            window.addEventListener('hashchange', function() {
                if (window.location.hash === '#admin') showSection('admin');
            });
            // Login form
            var loginForm = document.getElementById('admin-login-form');
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                var username = document.getElementById('admin-username').value.trim();
                var password = document.getElementById('admin-password').value;
                var errorDiv = document.getElementById('admin-login-error');
                errorDiv.textContent = '';
                if (username === 'MCUCSYA' && password === '@Mcucsya2025') {
                    showAdminDashboard();
                } else {
                    errorDiv.textContent = 'Invalid username or password.';
                }
            });
            // Logout
            document.getElementById('admin-logout').addEventListener('click', function() {
                hideAdminDashboard();
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            initializeWebsite();
            initializeAdmin();
            // Admin nav link instant show
            var adminNav = document.getElementById('admin-nav-link');
            if (adminNav) {
                adminNav.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Always reset admin section to login form instantly
                    showSection('admin');
                    window.location.hash = '#admin';
                    setTimeout(function() {
                        document.getElementById('admin').scrollIntoView({ behavior: 'smooth' });
                    }, 100);
                });
            }
        });
    </script>
</body>
</html>